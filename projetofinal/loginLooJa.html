<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T</title>
    <link rel="stylesheet" href="C:\Users\CRC\Documents\thallysonCurso\projetofinal\CSS\loginLooJA.css">
    <link rel="stylesheet" type="text/css" href="C:\Users\CRC\Documents\thallysonCurso\projetofinal\testetabela.html">
</head>
<body>
    

<h2>Academy of wonders</h2>
<div class="container" id="container">
  <div class="form-container sign-up-container">
  </div>
  <div class="form-container sign-in-container">

    <form id="cadastroForm">
   <h2 id="goku"> Se escreva aqui!</h2>
  <input type="text" id="nome" placeholder="Nome" required>
  <input type="email" id="email" placeholder="Email" required>
      <input type="text" id="endereco" placeholder="Endereço" required />
      <input type="Telefone" id="telefone" placeholder="Telefone" required />
       <button type="submit">Cadastrar</button>
    </form>
  </div>

  <button type="submit">Cadastrar</button>
</form>
 <div class="overlay-container">
    <div class="overlay">
      
      <div class="overlay-panel overlay-right">
        
        <p>Visite nossa loja online</p>
        <button class="ghost" id="signUp" ><a href="C:\Users\CRC\Documents\thallysonCurso\projetofinal\LooJA.html">Visite</a></button>
      </div>
    </div>
  </div>
</div>  
<table id="tabela" border="2px">
  <thead>
    <tr>
      <th>Nome</th>
      <th>Email</th>
      <th>Endereço</th>
      <th>Telefone</th>
    </tr>
  </thead>
  <tbody>
    <!-- Linhas da tabela serão inseridas aqui -->
  </tbody>
</table>

<script>
  // Função para salvar no localStorage e atualizar a tabela
  function atualizarTabela() {
    const dados = JSON.parse(localStorage.getItem('cadastros')) || [];
    const tbody = document.querySelector('#tabela tbody');
    tbody.innerHTML = '';
    dados.forEach((item, index) => {
      const tr = document.createElement('tr');
      tr.innerHTML = `<table>
        <td>${item.nome}</td>
        <td>${item.email}</td>
         <td>${item.endereco}</td>
          <td>${item.telefone}</td>

        <td>
          <button onclick="editarCadastro(${index})">Editar</button>
          <button onclick="excluirCadastro(${index})">Excluir</button>
        </td></table>
      `;
      tbody.appendChild(tr);
    });
  }

  // Função para editar
  function editarCadastro(index) {
    const dados = JSON.parse(localStorage.getItem('cadastros')) || [];
    const item = dados[index];
    document.getElementById('nome').value = item.nome;
    document.getElementById('email').value = item.email;
    document.getElementById('endereco').value = item.endereco;
    document.getElementById('telefone').value = item.telefone;
    dados.splice(index, 1);
    localStorage.setItem('cadastros', JSON.stringify(dados));
    atualizarTabela();
  }

  // Função para excluir
  function excluirCadastro(index) {
    const dados = JSON.parse(localStorage.getItem('cadastros')) || [];
    dados.splice(index, 1);
    localStorage.setItem('cadastros', JSON.stringify(dados));
    atualizarTabela();
  }

  // Enviar o formulário
  document.getElementById('cadastroForm').addEventListener('submit', function(event) {
    event.preventDefault();
    const nome = document.getElementById('nome').value;
    const email = document.getElementById('email').value;
    const endereco = document.getElementById('endereco').value;
    const telefone    = document.getElementById('telefone').value;
    const dados = JSON.parse(localStorage.getItem('cadastros')) || [];
    dados.push({ nome, email });
    localStorage.setItem('cadastros', JSON.stringify(dados));
    atualizarTabela();
    event.target.reset();
  });

  // Inicializa a tabela quando a página carrega
  window.onload = atualizarTabela;

 </script>
</body>
</html>